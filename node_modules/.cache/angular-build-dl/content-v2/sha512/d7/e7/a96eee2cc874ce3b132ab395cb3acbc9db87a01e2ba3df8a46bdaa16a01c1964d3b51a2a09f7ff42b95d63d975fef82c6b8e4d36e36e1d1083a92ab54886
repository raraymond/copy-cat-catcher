function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"7K4d":function(e,t,n){"use strict";n.r(t),n.d(t,"UploadModule",(function(){return q}));var i,r,o=n("ofXK"),a=n("tyNb"),c=n("fXoL"),s=n("eIep"),l=n("UbJi"),u=n("I/3d"),d=((r=function(){function e(t,n){_classCallCheck(this,e),this.afAuth=t,this.db=n}return _createClass(e,[{key:"deleteFile",value:function(e){return this.db.collection("files").doc(e).delete()}},{key:"getUserFiles",value:function(){var e=this;return this.afAuth.authState.pipe(Object(s.a)((function(t){return t?e.db.collection("files",(function(e){return e.where("uid","==",t.uid)})).valueChanges({idField:"id"}):[]})))}}]),e}()).\u0275fac=function(e){return new(e||r)(c.Wb(l.a),c.Wb(u.a))},r.\u0275prov=c.Jb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),f=((i=function(){function e(){_classCallCheck(this,e),this.dropped=new c.n,this.hovered=new c.n}return _createClass(e,[{key:"onDrop",value:function(e){e.preventDefault(),this.dropped.emit(e.dataTransfer.files),this.hovered.emit(!1)}},{key:"onDragOver",value:function(e){e.preventDefault(),this.hovered.emit(!0)}},{key:"onDragLeave",value:function(e){e.preventDefault(),this.hovered.emit(!1)}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275dir=c.Ib({type:i,selectors:[["","dropzone",""]],hostBindings:function(e,t){1&e&&c.ac("drop",(function(e){return t.onDrop(e)}))("dragover",(function(e){return t.onDragOver(e)}))("dragleave",(function(e){return t.onDragLeave(e)}))},outputs:{dropped:"dropped",hovered:"hovered"}}),i),b=n("mrSG"),p=n("vkgz"),h=n("nYR2"),g=n("Vaw3");function v(e,t){if(1&e&&(c.Sb(0,"div"),c.Ob(1,"progress",1),c.rc(2),c.dc(3,"number"),c.Rb()),2&e){var n=t.ngIf;c.Cb(1),c.hc("value",n),c.Cb(1),c.tc(" ",c.ec(3,2,n),"%\n")}}function m(e,t){if(1&e&&(c.Sb(0,"div"),c.Sb(1,"h3"),c.rc(2,"Results!"),c.Rb(),c.Ob(3,"img",3),c.Ob(4,"br"),c.Sb(5,"a",4),c.rc(6,"Download Me!"),c.Rb(),c.Rb()),2&e){var n=t.ngIf;c.Cb(3),c.hc("src",n,c.lc),c.Cb(2),c.hc("href",n,c.lc)}}function C(e,t){if(1&e){var n=c.Tb();c.Sb(0,"div"),c.rc(1),c.qc(2,m,7,2,"div",0),c.Sb(3,"button",2),c.ac("click",(function(){return c.kc(n),c.cc().task.pause()})),c.rc(4,"Pause"),c.Rb(),c.Sb(5,"button",2),c.ac("click",(function(){return c.kc(n),c.cc().task.cancel()})),c.rc(6,"Cancel"),c.Rb(),c.Sb(7,"button",2),c.ac("click",(function(){return c.kc(n),c.cc().task.resume()})),c.rc(8,"Resume"),c.Rb(),c.Rb()}if(2&e){var i=t.ngIf,r=c.cc();c.Cb(1),c.uc(" ",i.bytesTransferred," of ",i.totalBytes," "),c.Cb(1),c.hc("ngIf",r.downloadURL),c.Cb(1),c.hc("disabled",!r.isActive(i)),c.Cb(2),c.hc("disabled",!r.isActive(i)),c.Cb(2),c.hc("disabled",!("paused"===(null==i?null:i.state)))}}var k,w=((k=function(){function e(t,n,i){_classCallCheck(this,e),this.storage=t,this.db=n,this.afAuth=i}return _createClass(e,[{key:"ngOnInit",value:function(){this.startUpload()}},{key:"startUpload",value:function(){var e=this,t="test/".concat(Date.now(),"_").concat(this.file.name),n=this.storage.ref(t);this.task=this.storage.upload(t,this.file),this.percentage=this.task.percentageChanges(),this.snapshot=this.task.snapshotChanges().pipe(Object(p.a)(console.log),Object(h.a)((function(){return Object(b.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.afAuth.currentUser;case 2:return i=e.sent,e.next=5,n.getDownloadURL().toPromise();case 5:this.downloadURL=e.sent,this.db.collection("files").add({uid:i.uid,downloadURL:this.downloadURL,path:t});case 7:case"end":return e.stop()}}),e,this)})))})))}},{key:"isActive",value:function(e){return"running"===e.state&&e.bytesTransferred<e.totalBytes}}]),e}()).\u0275fac=function(e){return new(e||k)(c.Nb(g.a),c.Nb(u.a),c.Nb(l.a))},k.\u0275cmp=c.Hb({type:k,selectors:[["upload-task"]],inputs:{file:"file"},decls:4,vars:6,consts:[[4,"ngIf"],["max","100",3,"value"],[3,"disabled","click"],[2,"width","100px",3,"src"],["target","_blank","rel","noopener",3,"href"]],template:function(e,t){1&e&&(c.qc(0,v,4,4,"div",0),c.dc(1,"async"),c.qc(2,C,9,6,"div",0),c.dc(3,"async")),2&e&&(c.hc("ngIf",c.ec(1,2,t.percentage)),c.Cb(2),c.hc("ngIf",c.ec(3,4,t.snapshot)))},directives:[o.l],pipes:[o.b,o.e],styles:[".dropzone[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;min-width:80vw;font-weight:200;height:300px;border:2px dashed #f16624;border-radius:5px;background:#fff;margin:10px 0}.dropzone.hovering[_ngcontent-%COMP%]{border:2px solid #f16624;color:#dadada!important}.dropzone[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]{font-size:1.2em}progress[_ngcontent-%COMP%]::-webkit-progress-value{-webkit-transition:width .1s ease;transition:width .1s ease}"]}),k);function y(e,t){if(1&e&&(c.Sb(0,"div"),c.Ob(1,"upload-task",2),c.Rb()),2&e){var n=t.$implicit;c.Cb(1),c.hc("file",n)}}var R,S=((R=function(){function e(){_classCallCheck(this,e),this.files=[]}return _createClass(e,[{key:"toggleHover",value:function(e){this.isHovering=e}},{key:"onDrop",value:function(e){for(var t=0;t<e.length;t++)this.files.push(e.item(t))}}]),e}()).\u0275fac=function(e){return new(e||R)},R.\u0275cmp=c.Hb({type:R,selectors:[["uploader"]],decls:8,vars:3,consts:[["dropzone","",1,"dropzone",3,"hovered","dropped"],[4,"ngFor","ngForOf"],[3,"file"]],template:function(e,t){1&e&&(c.Sb(0,"div",0),c.ac("hovered",(function(e){return t.toggleHover(e)}))("dropped",(function(e){return t.onDrop(e)})),c.Sb(1,"h3"),c.rc(2,"AngularFire Drop Zone"),c.Rb(),c.Sb(3,"p"),c.rc(4,"Drag and Drop a File"),c.Rb(),c.Rb(),c.Sb(5,"h3"),c.rc(6,"Uploads"),c.Rb(),c.qc(7,y,2,1,"div",1)),2&e&&(c.Eb("hovering",t.isHovering),c.Cb(7),c.hc("ngForOf",t.files))},directives:[f,o.k,w],styles:[".dropzone[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;min-width:80vw;font-weight:200;height:300px;border:2px dashed #f16624;border-radius:5px;background:#fff;margin:10px 0}.dropzone.hovering[_ngcontent-%COMP%]{border:2px solid #f16624;color:#dadada!important}.dropzone[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]{font-size:1.2em}progress[_ngcontent-%COMP%]::-webkit-progress-value{-webkit-transition:width .1s ease;transition:width .1s ease}"]}),R),O=n("Wp6s"),_=n("bTqV");function x(e,t){if(1&e&&(c.Sb(0,"mat-card",2),c.Sb(1,"mat-card-header"),c.Sb(2,"mat-card-title"),c.rc(3),c.Rb(),c.Sb(4,"mat-card-subtitle"),c.rc(5,"uploaded image"),c.Rb(),c.Rb(),c.Ob(6,"img",3),c.Sb(7,"mat-card-content"),c.Sb(8,"p"),c.rc(9," Lorem ipsum dolor sit amet consectetur adipisicing elit. Tenetur molestias natus odit commodi, laboriosam similique neque atque odio inventore distinctio minima, quaerat harum nesciunt? Sapiente velit voluptate assumenda voluptates magnam unde consectetur, fugit id ab? Officiis libero odit in! In totam, accusantium doloremque neque ipsam officia ipsa commodi? Eius, quis. "),c.Rb(),c.Rb(),c.Sb(10,"mat-card-actions"),c.Sb(11,"button",4),c.Sb(12,"a",5),c.rc(13,"Download Me!"),c.Rb(),c.Rb(),c.Sb(14,"button",6),c.rc(15,"SHARE"),c.Rb(),c.Sb(16,"button",7),c.rc(17,"Find Matches"),c.Rb(),c.Rb(),c.Rb()),2&e){var n=t.$implicit;c.Cb(3),c.sc(n.path),c.Cb(3),c.hc("src",n.downloadURL,c.lc),c.Cb(6),c.hc("href",n.downloadURL,c.lc)}}var P,D,M,U=[{path:"",component:(P=function(){function e(t){_classCallCheck(this,e),this.fileService=t}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.sub=this.fileService.getUserFiles().subscribe((function(t){return e.files=t})),console.log(this.files)}}]),e}(),P.\u0275fac=function(e){return new(e||P)(c.Nb(d))},P.\u0275cmp=c.Hb({type:P,selectors:[["app-file-list"]],decls:8,vars:1,consts:[[1,"file-container"],["class","example-card",4,"ngFor","ngForOf"],[1,"example-card"],["mat-card-image","","alt","Photo of a Shiba Inu",3,"src"],["mat-button","","color","primary"],["target","_blank","rel","noopener",3,"href"],["mat-button",""],["mat-button","","color","warn"]],template:function(e,t){1&e&&(c.Sb(0,"h2"),c.rc(1,"Current Files"),c.Rb(),c.Sb(2,"div",0),c.qc(3,x,18,3,"mat-card",1),c.Rb(),c.Sb(4,"div",0),c.Sb(5,"h2"),c.rc(6,"Upload"),c.Rb(),c.Ob(7,"uploader"),c.Rb()),2&e&&(c.Cb(3),c.hc("ngForOf",t.files))},directives:[o.k,S,O.a,O.d,O.h,O.g,O.e,O.c,O.b,_.b],styles:[".example-card[_ngcontent-%COMP%]{max-width:400px;margin-top:1em}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://material.angular.io/assets/img/examples/shiba1.jpg);background-size:cover}.file-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}"]}),P)}],I=((D=function e(){_classCallCheck(this,e)}).\u0275mod=c.Lb({type:D}),D.\u0275inj=c.Kb({factory:function(e){return new(e||D)},imports:[[a.d.forChild(U)],a.d]}),D),F=n("hctd"),q=((M=function e(){_classCallCheck(this,e)}).\u0275mod=c.Lb({type:M}),M.\u0275inj=c.Kb({factory:function(e){return new(e||M)},imports:[[o.c,I,F.a]]}),M)}}]);