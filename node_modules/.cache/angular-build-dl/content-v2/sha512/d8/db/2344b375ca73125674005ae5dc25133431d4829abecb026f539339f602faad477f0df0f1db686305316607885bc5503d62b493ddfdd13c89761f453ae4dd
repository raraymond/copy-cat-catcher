(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"7UCR":function(t,n,o){"use strict";o.r(n),o.d(n,"UserModule",(function(){return L}));var e=o("ofXK"),i=o("3Pt+"),s=o("tyNb"),c=o("hctd"),r=o("fXoL"),a=o("UbJi"),b=o("pfZ0"),u=o("bTqV"),d=o("mrSG"),m=o("Wp6s"),l=o("kmnG"),f=o("qFsG");function g(t,n){if(1&t){const t=r.Tb();r.Sb(0,"div"),r.Sb(1,"h3"),r.rc(2,"Create Account"),r.Rb(),r.Sb(3,"button",9),r.ac("click",(function(){return r.kc(t),r.cc().changeType("login")})),r.rc(4," Returning user? "),r.Rb(),r.Rb()}}function p(t,n){if(1&t){const t=r.Tb();r.Sb(0,"div"),r.Sb(1,"h3"),r.rc(2,"Sign In"),r.Rb(),r.Sb(3,"button",10),r.ac("click",(function(){return r.kc(t),r.cc().changeType("signup")})),r.rc(4," New user? "),r.Rb(),r.Rb()}}function h(t,n){if(1&t){const t=r.Tb();r.Sb(0,"div"),r.Sb(1,"h3"),r.rc(2,"Reset Password"),r.Rb(),r.Sb(3,"button",11),r.ac("click",(function(){return r.kc(t),r.cc().changeType("login")})),r.rc(4,"Back"),r.Rb(),r.Rb()}}function w(t,n){1&t&&(r.Sb(0,"mat-error"),r.rc(1," You must enter a valid email address "),r.Rb())}function C(t,n){1&t&&(r.Sb(0,"mat-error"),r.rc(1," Password must be at least 6 characters long "),r.Rb())}function R(t,n){if(1&t&&(r.Sb(0,"mat-form-field",2),r.Ob(1,"input",12),r.qc(2,C,2,0,"mat-error",0),r.Rb()),2&t){const t=r.cc();r.hc("color",t.email.valid&&"accent"),r.Cb(2),r.hc("ngIf",t.password.invalid&&t.password.dirty)}}function S(t,n){1&t&&(r.Sb(0,"mat-error"),r.rc(1," Password does not match "),r.Rb())}function v(t,n){if(1&t&&(r.Sb(0,"mat-form-field",2),r.Ob(1,"input",13),r.qc(2,S,2,0,"mat-error",0),r.Rb()),2&t){const t=r.cc();r.hc("color",t.passwordDoesMatch?"accent":"warn"),r.Cb(2),r.hc("ngIf",t.passwordConfirm.dirty&&!t.passwordDoesMatch)}}function y(t,n){if(1&t&&(r.Sb(0,"button",14),r.rc(1," Send Reset Email "),r.Rb()),2&t){const t=r.cc();r.hc("disabled",t.loading)}}function k(t,n){if(1&t&&(r.Sb(0,"button",15),r.rc(1," Submit "),r.Rb()),2&t){const t=r.cc();r.hc("disabled",t.form.invalid||!t.passwordDoesMatch||t.loading)}}function P(t,n){if(1&t){const t=r.Tb();r.Sb(0,"button",16),r.ac("click",(function(){return r.kc(t),r.cc().changeType("reset")})),r.rc(1," Forgot password? "),r.Rb()}}let I=(()=>{class t{constructor(t,n,o){this.authAf=t,this.fb=n,this.auth=o,this.type="signup",this.loading=!1}ngOnInit(){this.form=this.fb.group({email:["",[i.m.required,i.m.email]],password:["",[i.m.minLength(6),i.m.required]],passwordConfirm:["",[]]})}changeType(t){this.type=t}get isLogin(){return"login"===this.type}get isSignup(){return"signup"===this.type}get isPasswordReset(){return"reset"===this.type}get email(){return this.form.get("email")}get password(){return this.form.get("password")}get passwordConfirm(){return this.form.get("passwordConfirm")}get passwordDoesMatch(){return"signup"!==this.type||this.password.value===this.passwordConfirm.value}onSubmit(){return Object(d.a)(this,void 0,void 0,(function*(){this.loading=!0;const t=this.email.value,n=this.password.value;try{this.isLogin&&(yield this.auth.signInWithEmailAndPassword(t,n)),this.isSignup&&(yield this.auth.createUserWithEmailAndPassword(t,n)),this.isPasswordReset&&(yield this.auth.sendPasswordResetEmail(t),this.serverMessage="Check your email")}catch(o){this.serverMessage=o}this.loading=!1}))}}return t.\u0275fac=function(n){return new(n||t)(r.Nb(a.a),r.Nb(i.b),r.Nb(b.a))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-email-login"]],decls:15,vars:12,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],[3,"color"],["matInput","","formControlName","email","type","email","placeholder","Email","autocomplete","off"],[3,"color",4,"ngIf"],[1,"server-error"],["mat-stroked-button","","type","submit",3,"disabled",4,"ngIf"],["mat-raised-button","","color","accent","type","submit",3,"disabled",4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],["mat-stroked-button","",3,"click"],["size","small","mat-stroked-button","",3,"click"],["size","small","mat-button","",3,"click"],["matInput","","formControlName","password","type","password","placeholder","Password","autocomplete","off"],["matInput","","formControlName","passwordConfirm","type","password","placeholder","Confirm password","autocomplete","off"],["mat-stroked-button","","type","submit",3,"disabled"],["mat-raised-button","","color","accent","type","submit",3,"disabled"],["mat-button","",3,"click"]],template:function(t,n){1&t&&(r.Sb(0,"mat-card"),r.qc(1,g,5,0,"div",0),r.qc(2,p,5,0,"div",0),r.qc(3,h,5,0,"div",0),r.Sb(4,"form",1),r.ac("ngSubmit",(function(){return n.onSubmit()})),r.Sb(5,"mat-form-field",2),r.Ob(6,"input",3),r.qc(7,w,2,0,"mat-error",0),r.Rb(),r.qc(8,R,3,2,"mat-form-field",4),r.qc(9,v,3,2,"mat-form-field",4),r.Sb(10,"mat-error",5),r.rc(11),r.Rb(),r.qc(12,y,2,1,"button",6),r.qc(13,k,2,1,"button",7),r.Rb(),r.qc(14,P,2,0,"button",8),r.Rb()),2&t&&(r.Cb(1),r.hc("ngIf",n.isSignup),r.Cb(1),r.hc("ngIf",n.isLogin),r.Cb(1),r.hc("ngIf",n.isPasswordReset),r.Cb(1),r.hc("formGroup",n.form),r.Cb(1),r.hc("color",n.email.valid&&"accent"),r.Cb(2),r.hc("ngIf",n.email.invalid&&n.email.dirty),r.Cb(1),r.hc("ngIf",!n.isPasswordReset),r.Cb(1),r.hc("ngIf",n.isSignup),r.Cb(2),r.sc(n.serverMessage),r.Cb(1),r.hc("ngIf",n.isPasswordReset),r.Cb(1),r.hc("ngIf",!n.isPasswordReset),r.Cb(1),r.hc("ngIf",n.isLogin&&!n.isPasswordReset))},directives:[m.a,e.l,i.n,i.i,i.d,l.b,f.a,i.a,i.h,i.c,l.a,u.b],styles:["mat-card[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%;margin:0 auto}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.server-error[_ngcontent-%COMP%]{margin:8px 0}input[_ngcontent-%COMP%]{height:2em}input[_ngcontent-%COMP%]   div.mat-form-field-infix[_ngcontent-%COMP%]{padding:.3em 0}input[_ngcontent-%COMP%]   div.mat-form-field-infix[_ngcontent-%COMP%]   input.mat-input-element[_ngcontent-%COMP%]{vertical-align:top}div.mat-form-field-wrapper[_ngcontent-%COMP%]{padding-bottom:1.15em}"]}),t})();function O(t,n){if(1&t){const t=r.Tb();r.Sb(0,"div"),r.Sb(1,"h1"),r.rc(2,"Login"),r.Rb(),r.Sb(3,"button",2),r.ac("click",(function(){return r.kc(t),r.cc().auth.googleSignin()})),r.Ob(4,"img",3),r.rc(5," Login with Google "),r.Rb(),r.Sb(6,"h5"),r.rc(7,"OR"),r.Rb(),r.Ob(8,"app-email-login"),r.Rb()}}function M(t,n){if(1&t){const t=r.Tb();r.Sb(0,"div",4),r.Sb(1,"p"),r.rc(2," Logged in as "),r.Sb(3,"strong"),r.rc(4),r.Rb(),r.Rb(),r.Sb(5,"button",5),r.ac("click",(function(){return r.kc(t),r.cc().auth.signOut()})),r.rc(6,"Logout"),r.Rb(),r.Rb()}if(2&t){const t=n.ngIf;r.Cb(4),r.sc(t.email)}}const q=[{path:"",component:(()=>{class t{constructor(t,n){this.afAuth=t,this.auth=n}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)(r.Nb(a.a),r.Nb(b.a))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-login-page"]],decls:5,vars:6,consts:[[4,"ngIf"],["class","logout ",4,"ngIf"],["mat-raised-button","",3,"click"],["src"," /assets/google-logo.svg "],[1,"logout"],["mat-stroked-button","",3,"click"]],template:function(t,n){1&t&&(r.Sb(0,"main"),r.qc(1,O,9,0,"div",0),r.dc(2,"async"),r.qc(3,M,7,1,"div",1),r.dc(4,"async"),r.Rb()),2&t&&(r.Cb(1),r.hc("ngIf",!r.ec(2,2,n.auth.user$)),r.Cb(2),r.hc("ngIf",r.ec(4,4,n.auth.user$)))},directives:[e.l,u.b,I],pipes:[e.b],styles:["button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.25em}[_nghost-%COMP%]{text-align:center}.logout[_ngcontent-%COMP%]{padding-top:5em}"]}),t})()}];let _=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(n){return new(n||t)},imports:[[s.d.forChild(q),c.a],s.d]}),t})(),L=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(n){return new(n||t)},imports:[[e.c,_,c.a,i.l]]}),t})()}}]);