(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"7K4d":function(e,t,n){"use strict";n.r(t),n.d(t,"UploadModule",(function(){return D}));var o=n("ofXK"),i=n("tyNb"),r=n("fXoL"),a=n("eIep"),s=n("UbJi"),c=n("I/3d");let d=(()=>{class e{constructor(e,t){this.afAuth=e,this.db=t}deleteFile(e){return this.db.collection("files").doc(e).delete()}getUserFiles(){return this.afAuth.authState.pipe(Object(a.a)(e=>e?this.db.collection("files",t=>t.where("uid","==",e.uid)).valueChanges({idField:"id"}):[]))}}return e.\u0275fac=function(t){return new(t||e)(r.Wb(s.a),r.Wb(c.a))},e.\u0275prov=r.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),l=(()=>{class e{constructor(){this.dropped=new r.n,this.hovered=new r.n}onDrop(e){e.preventDefault(),this.dropped.emit(e.dataTransfer.files),this.hovered.emit(!1)}onDragOver(e){e.preventDefault(),this.hovered.emit(!0)}onDragLeave(e){e.preventDefault(),this.hovered.emit(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.Ib({type:e,selectors:[["","dropzone",""]],hostBindings:function(e,t){1&e&&r.ac("drop",(function(e){return t.onDrop(e)}))("dragover",(function(e){return t.onDragOver(e)}))("dragleave",(function(e){return t.onDragLeave(e)}))},outputs:{dropped:"dropped",hovered:"hovered"}}),e})();var b=n("mrSG"),u=n("vkgz"),p=n("nYR2"),f=n("Vaw3");function h(e,t){if(1&e&&(r.Sb(0,"div"),r.Ob(1,"progress",1),r.rc(2),r.dc(3,"number"),r.Rb()),2&e){const e=t.ngIf;r.Cb(1),r.hc("value",e),r.Cb(1),r.tc(" ",r.ec(3,2,e),"%\n")}}function g(e,t){if(1&e&&(r.Sb(0,"div"),r.Sb(1,"h3"),r.rc(2,"Results!"),r.Rb(),r.Ob(3,"img",3),r.Ob(4,"br"),r.Sb(5,"a",4),r.rc(6,"Download Me!"),r.Rb(),r.Rb()),2&e){const e=t.ngIf;r.Cb(3),r.hc("src",e,r.lc),r.Cb(2),r.hc("href",e,r.lc)}}function m(e,t){if(1&e){const e=r.Tb();r.Sb(0,"div"),r.rc(1),r.qc(2,g,7,2,"div",0),r.Sb(3,"button",2),r.ac("click",(function(){return r.kc(e),r.cc().task.pause()})),r.rc(4,"Pause"),r.Rb(),r.Sb(5,"button",2),r.ac("click",(function(){return r.kc(e),r.cc().task.cancel()})),r.rc(6,"Cancel"),r.Rb(),r.Sb(7,"button",2),r.ac("click",(function(){return r.kc(e),r.cc().task.resume()})),r.rc(8,"Resume"),r.Rb(),r.Rb()}if(2&e){const e=t.ngIf,n=r.cc();r.Cb(1),r.uc(" ",e.bytesTransferred," of ",e.totalBytes," "),r.Cb(1),r.hc("ngIf",n.downloadURL),r.Cb(1),r.hc("disabled",!n.isActive(e)),r.Cb(2),r.hc("disabled",!n.isActive(e)),r.Cb(2),r.hc("disabled",!("paused"===(null==e?null:e.state)))}}let v=(()=>{class e{constructor(e,t,n){this.storage=e,this.db=t,this.afAuth=n}ngOnInit(){this.startUpload()}startUpload(){const e=`test/${Date.now()}_${this.file.name}`,t=this.storage.ref(e);this.task=this.storage.upload(e,this.file),this.percentage=this.task.percentageChanges(),this.snapshot=this.task.snapshotChanges().pipe(Object(u.a)(console.log),Object(p.a)(()=>Object(b.a)(this,void 0,void 0,(function*(){const n=yield this.afAuth.currentUser;this.downloadURL=yield t.getDownloadURL().toPromise(),this.db.collection("files").add({uid:n.uid,downloadURL:this.downloadURL,path:e})}))))}isActive(e){return"running"===e.state&&e.bytesTransferred<e.totalBytes}}return e.\u0275fac=function(t){return new(t||e)(r.Nb(f.a),r.Nb(c.a),r.Nb(s.a))},e.\u0275cmp=r.Hb({type:e,selectors:[["upload-task"]],inputs:{file:"file"},decls:4,vars:6,consts:[[4,"ngIf"],["max","100",3,"value"],[3,"disabled","click"],[2,"width","100px",3,"src"],["target","_blank","rel","noopener",3,"href"]],template:function(e,t){1&e&&(r.qc(0,h,4,4,"div",0),r.dc(1,"async"),r.qc(2,m,9,6,"div",0),r.dc(3,"async")),2&e&&(r.hc("ngIf",r.ec(1,2,t.percentage)),r.Cb(2),r.hc("ngIf",r.ec(3,4,t.snapshot)))},directives:[o.l],pipes:[o.b,o.e],styles:[".dropzone[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;min-width:80vw;font-weight:200;height:300px;border:2px dashed #f16624;border-radius:5px;background:#fff;margin:10px 0}.dropzone.hovering[_ngcontent-%COMP%]{border:2px solid #f16624;color:#dadada!important}.dropzone[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]{font-size:1.2em}progress[_ngcontent-%COMP%]::-webkit-progress-value{-webkit-transition:width .1s ease;transition:width .1s ease}"]}),e})();function w(e,t){if(1&e&&(r.Sb(0,"div"),r.Ob(1,"upload-task",2),r.Rb()),2&e){const e=t.$implicit;r.Cb(1),r.hc("file",e)}}let R=(()=>{class e{constructor(){this.files=[]}toggleHover(e){this.isHovering=e}onDrop(e){for(let t=0;t<e.length;t++)this.files.push(e.item(t))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Hb({type:e,selectors:[["uploader"]],decls:8,vars:3,consts:[["dropzone","",1,"dropzone",3,"hovered","dropped"],[4,"ngFor","ngForOf"],[3,"file"]],template:function(e,t){1&e&&(r.Sb(0,"div",0),r.ac("hovered",(function(e){return t.toggleHover(e)}))("dropped",(function(e){return t.onDrop(e)})),r.Sb(1,"h3"),r.rc(2,"AngularFire Drop Zone"),r.Rb(),r.Sb(3,"p"),r.rc(4,"Drag and Drop a File"),r.Rb(),r.Rb(),r.Sb(5,"h3"),r.rc(6,"Uploads"),r.Rb(),r.qc(7,w,2,1,"div",1)),2&e&&(r.Eb("hovering",t.isHovering),r.Cb(7),r.hc("ngForOf",t.files))},directives:[l,o.k,v],styles:[".dropzone[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;min-width:80vw;font-weight:200;height:300px;border:2px dashed #f16624;border-radius:5px;background:#fff;margin:10px 0}.dropzone.hovering[_ngcontent-%COMP%]{border:2px solid #f16624;color:#dadada!important}.dropzone[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]{font-size:1.2em}progress[_ngcontent-%COMP%]::-webkit-progress-value{-webkit-transition:width .1s ease;transition:width .1s ease}"]}),e})();var C=n("Wp6s"),S=n("bTqV");function O(e,t){if(1&e&&(r.Sb(0,"mat-card",2),r.Sb(1,"mat-card-header"),r.Sb(2,"mat-card-title"),r.rc(3),r.Rb(),r.Sb(4,"mat-card-subtitle"),r.rc(5,"uploaded image"),r.Rb(),r.Rb(),r.Ob(6,"img",3),r.Sb(7,"mat-card-content"),r.Sb(8,"p"),r.rc(9," Lorem ipsum dolor sit amet consectetur adipisicing elit. Tenetur molestias natus odit commodi, laboriosam similique neque atque odio inventore distinctio minima, quaerat harum nesciunt? Sapiente velit voluptate assumenda voluptates magnam unde consectetur, fugit id ab? Officiis libero odit in! In totam, accusantium doloremque neque ipsam officia ipsa commodi? Eius, quis. "),r.Rb(),r.Rb(),r.Sb(10,"mat-card-actions"),r.Sb(11,"button",4),r.Sb(12,"a",5),r.rc(13,"Download Me!"),r.Rb(),r.Rb(),r.Sb(14,"button",6),r.rc(15,"SHARE"),r.Rb(),r.Sb(16,"button",7),r.rc(17,"Find Matches"),r.Rb(),r.Rb(),r.Rb()),2&e){const e=t.$implicit;r.Cb(3),r.sc(e.path),r.Cb(3),r.hc("src",e.downloadURL,r.lc),r.Cb(6),r.hc("href",e.downloadURL,r.lc)}}const k=[{path:"",component:(()=>{class e{constructor(e){this.fileService=e}ngOnInit(){this.sub=this.fileService.getUserFiles().subscribe(e=>this.files=e),console.log(this.files)}}return e.\u0275fac=function(t){return new(t||e)(r.Nb(d))},e.\u0275cmp=r.Hb({type:e,selectors:[["app-file-list"]],decls:8,vars:1,consts:[[1,"file-container"],["class","example-card",4,"ngFor","ngForOf"],[1,"example-card"],["mat-card-image","","alt","Photo of a Shiba Inu",3,"src"],["mat-button","","color","primary"],["target","_blank","rel","noopener",3,"href"],["mat-button",""],["mat-button","","color","warn"]],template:function(e,t){1&e&&(r.Sb(0,"h2"),r.rc(1,"Current Files"),r.Rb(),r.Sb(2,"div",0),r.qc(3,O,18,3,"mat-card",1),r.Rb(),r.Sb(4,"div",0),r.Sb(5,"h2"),r.rc(6,"Upload"),r.Rb(),r.Ob(7,"uploader"),r.Rb()),2&e&&(r.Cb(3),r.hc("ngForOf",t.files))},directives:[o.k,R,C.a,C.d,C.h,C.g,C.e,C.c,C.b,S.b],styles:[".example-card[_ngcontent-%COMP%]{max-width:400px;margin-top:1em}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://material.angular.io/assets/img/examples/shiba1.jpg);background-size:cover}.file-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}"]}),e})()}];let y=(()=>{class e{}return e.\u0275mod=r.Lb({type:e}),e.\u0275inj=r.Kb({factory:function(t){return new(t||e)},imports:[[i.d.forChild(k)],i.d]}),e})();var x=n("hctd");let D=(()=>{class e{}return e.\u0275mod=r.Lb({type:e}),e.\u0275inj=r.Kb({factory:function(t){return new(t||e)},imports:[[o.c,y,x.a]]}),e})()}}]);